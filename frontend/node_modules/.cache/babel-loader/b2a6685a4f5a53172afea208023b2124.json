{"ast":null,"code":"import _slicedToArray from\"C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./Popup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProfilePopup=function ProfilePopup(_ref){var trigger=_ref.trigger,setTrigger=_ref.setTrigger,setShowPopup=_ref.setShowPopup,setMessage=_ref.setMessage;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var id=localStorage.getItem('id');var handleUploadBtn=function handleUploadBtn(e){e.preventDefault();var formData=new FormData();formData.append('avatar',file);fetch(\"/user/updateprofile/\".concat(id),{method:\"PUT\",body:formData}).then(function(resp){resp.json().then(function(result){if(result.success){setShowPopup(true);setMessage(result.message);}else{setShowPopup(true);setMessage(result.message);}});});setTrigger(false);};return trigger?/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-popup\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:function onClick(){return setTrigger(false);},children:\"Close\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUploadBtn,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"avatar\",onChange:function onChange(e){setFile(e.target.files[0]);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Upload\",className:\"upload-btn\"})]})]})}):null;};","map":{"version":3,"sources":["C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/src/Components/Popup/ProfilePopup.jsx"],"names":["React","useState","ProfilePopup","trigger","setTrigger","setShowPopup","setMessage","file","setFile","id","localStorage","getItem","handleUploadBtn","e","preventDefault","formData","FormData","append","fetch","method","body","then","resp","json","result","success","message","target","files"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,C,wFAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAuD,IAApDC,CAAAA,OAAoD,MAApDA,OAAoD,CAA3CC,UAA2C,MAA3CA,UAA2C,CAA/BC,YAA+B,MAA/BA,YAA+B,CAAjBC,UAAiB,MAAjBA,UAAiB,CAE/E,cAAwBL,QAAQ,CAAC,IAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,EAAE,CAAGC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAX,CACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0BV,IAA1B,EACAW,KAAK,+BAAwBT,EAAxB,EAA8B,CAC/BU,MAAM,CAAE,KADuB,CAE/BC,IAAI,CAAEL,QAFyB,CAA9B,CAAL,CAGGM,IAHH,CAGQ,SAAAC,IAAI,CAAI,CACZA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAiB,SAACG,MAAD,CAAY,CACzB,GAAIA,MAAM,CAACC,OAAX,CAAoB,CAChBpB,YAAY,CAAC,IAAD,CAAZ,CACAC,UAAU,CAACkB,MAAM,CAACE,OAAR,CAAV,CACH,CAHD,IAIK,CACDrB,YAAY,CAAC,IAAD,CAAZ,CACAC,UAAU,CAACkB,MAAM,CAACE,OAAR,CAAV,CACH,CACJ,CATD,EAUH,CAdD,EAeAtB,UAAU,CAAC,KAAD,CAAV,CACH,CApBD,CAqBA,MACKD,CAAAA,OAAD,cACI,YAAK,SAAS,CAAC,OAAf,uBACI,aAAK,SAAS,CAAC,aAAf,wBACI,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAAvC,mBADJ,cAEI,cAAM,QAAQ,CAAEQ,eAAhB,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,CAAiC,QAAQ,CAAE,kBAACC,CAAD,CAAO,CAAEL,OAAO,CAACK,CAAC,CAACc,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP,CAA4B,CAAhF,CAAkF,QAAQ,KAA1F,EADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,YAA9C,EAFJ,GAFJ,GADJ,EADJ,CASc,IAVlB,CAYH,CArCM","sourcesContent":["import React, { useState } from 'react'\r\nimport './Popup.css'\r\n\r\nexport const ProfilePopup = ({ trigger, setTrigger, setShowPopup, setMessage }) => {\r\n\r\n    const [file, setFile] = useState(null);\r\n    const id = localStorage.getItem('id');\r\n    const handleUploadBtn = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('avatar', file);\r\n        fetch(`/user/updateprofile/${id}`, {\r\n            method: \"PUT\",\r\n            body: formData\r\n        }).then(resp => {\r\n            resp.json().then((result) => {\r\n                if (result.success) {\r\n                    setShowPopup(true);\r\n                    setMessage(result.message);\r\n                }\r\n                else {\r\n                    setShowPopup(true);\r\n                    setMessage(result.message);\r\n                }\r\n            })\r\n        })\r\n        setTrigger(false);\r\n    }\r\n    return (\r\n        (trigger) ? (\r\n            <div className=\"popup\">\r\n                <div className=\"inner-popup\">\r\n                    <button className=\"close-btn\" onClick={() => setTrigger(false)}>Close</button>\r\n                    <form onSubmit={handleUploadBtn}>\r\n                        <input type=\"file\" name=\"avatar\" onChange={(e) => { setFile(e.target.files[0]) }} required />\r\n                        <input type=\"submit\" value=\"Upload\" className=\"upload-btn\" />\r\n                    </form>\r\n                </div>\r\n            </div>) : null\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}