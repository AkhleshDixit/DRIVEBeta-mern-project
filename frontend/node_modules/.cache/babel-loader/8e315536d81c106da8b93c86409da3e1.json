{"ast":null,"code":"import _slicedToArray from\"C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import{Popup}from'../../Components/Popup/Popup';import Styles from'./ForgotPass.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ForgotPass=function ForgotPass(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPopup=_useState4[0],setShowPopup=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];useEffect(function(){// if(sessionStorage.getItem('email')){\n//     history.push('/user/dashboard');\n// }\nif(localStorage.getItem('id')){history.push('/user/dashboard');}// if(localStorage.getItem('email')){\n//     history.push('/user/dashboard');\n// }\n},[history]);var handleSubmit=function handleSubmit(e){e.preventDefault();var data={email:email};fetch('/account/forgotpassword',{method:\"POST\",headers:{\"Accept\":\"application/json\",\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(result){if(result.success){setMessage(result.message);setShowPopup(!showPopup);setEmail('');}else{setMessage(result.message);setShowPopup(!showPopup);}});};return/*#__PURE__*/_jsx(\"div\",{className:Styles.forgotpass,children:/*#__PURE__*/_jsxs(\"div\",{className:Styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Submit Email\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:function onChange(e){setEmail(e.target.value);},placeholder:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"SUBMIT\"})]}),/*#__PURE__*/_jsx(Popup,{trigger:showPopup,setTrigger:setShowPopup,content:message})]})});};","map":{"version":3,"sources":["C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/src/Pages/ForgotPass/ForgotPass.js"],"names":["React","useState","useEffect","useHistory","Popup","Styles","ForgotPass","history","email","setEmail","showPopup","setShowPopup","message","setMessage","localStorage","getItem","push","handleSubmit","e","preventDefault","data","fetch","method","headers","body","JSON","stringify","then","response","json","result","success","forgotpass","container","target","value"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAASC,KAAT,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,wFAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAE5B,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CAEA,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAkCR,QAAQ,CAAC,KAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAA8BV,QAAQ,CAAC,EAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACZ;AACA;AACA;AACA,GAAGY,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAH,CAA8B,CAC1BR,OAAO,CAACS,IAAR,CAAa,iBAAb,EACH,CACD;AACA;AACA;AACH,CAVQ,CAUN,CAACT,OAAD,CAVM,CAAT,CAYA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAG,CAAEZ,KAAK,CAALA,KAAF,CAAb,CACAa,KAAK,CAAC,yBAAD,CAA4B,CAC7BC,MAAM,CAAE,MADqB,CAE7BC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFoB,CAM7BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CANuB,CAA5B,CAAL,CAQKO,IARL,CAQU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EARlB,EASKF,IATL,CASU,SAAAG,MAAM,CAAI,CAEZ,GAAIA,MAAM,CAACC,OAAX,CAAoB,CAChBlB,UAAU,CAACiB,MAAM,CAAClB,OAAR,CAAV,CACAD,YAAY,CAAC,CAACD,SAAF,CAAZ,CACAD,QAAQ,CAAC,EAAD,CAAR,CACH,CAJD,IAKK,CACDI,UAAU,CAACiB,MAAM,CAAClB,OAAR,CAAV,CACAD,YAAY,CAAC,CAACD,SAAF,CAAZ,CACH,CACJ,CApBL,EAqBH,CAxBD,CAyBA,mBACI,YAAK,SAAS,CAAEL,MAAM,CAAC2B,UAAvB,uBACI,aAAK,SAAS,CAAE3B,MAAM,CAAC4B,SAAvB,wBACI,oCADJ,cAEI,cAAM,QAAQ,CAAEhB,YAAhB,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAET,KAAxC,CAA+C,QAAQ,CAAE,kBAACU,CAAD,CAAO,CAAET,QAAQ,CAACS,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAR,CAA0B,CAA5F,CAA8F,WAAW,CAAC,OAA1G,EADJ,cAEI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAFJ,GAFJ,cAMI,KAAC,KAAD,EAAO,OAAO,CAAEzB,SAAhB,CAA2B,UAAU,CAAEC,YAAvC,CAAqD,OAAO,CAAEC,OAA9D,EANJ,GADJ,EADJ,CAYH,CAzDM","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport {useHistory} from 'react-router-dom';\r\nimport { Popup } from '../../Components/Popup/Popup';\r\nimport Styles from './ForgotPass.module.css';\r\n\r\nexport const ForgotPass = () => {\r\n\r\n    let history = useHistory();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        // if(sessionStorage.getItem('email')){\r\n        //     history.push('/user/dashboard');\r\n        // }\r\n        if(localStorage.getItem('id')){\r\n            history.push('/user/dashboard');\r\n        }\r\n        // if(localStorage.getItem('email')){\r\n        //     history.push('/user/dashboard');\r\n        // }\r\n    }, [history]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const data = { email };\r\n        fetch('/account/forgotpassword', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n                \"content-type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(response => response.json())\r\n            .then(result => {\r\n\r\n                if (result.success) {\r\n                    setMessage(result.message);\r\n                    setShowPopup(!showPopup);\r\n                    setEmail('');\r\n                }\r\n                else {\r\n                    setMessage(result.message);\r\n                    setShowPopup(!showPopup);\r\n                }\r\n            })\r\n    }\r\n    return (\r\n        <div className={Styles.forgotpass}>\r\n            <div className={Styles.container}>\r\n                <h1>Submit Email</h1>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"email\" name=\"email\" value={email} onChange={(e) => { setEmail(e.target.value) }} placeholder=\"email\" />\r\n                    <input type=\"submit\" value=\"SUBMIT\" />\r\n                </form>\r\n                <Popup trigger={showPopup} setTrigger={setShowPopup} content={message} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}