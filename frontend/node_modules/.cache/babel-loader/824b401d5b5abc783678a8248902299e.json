{"ast":null,"code":"import _slicedToArray from\"C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import pag from'./Pagination.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Pagination=function Pagination(_ref){var data=_ref.data,downloadFile=_ref.downloadFile,deleteFile=_ref.deleteFile;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),maxPageNumberLimit=_useState4[0],setMaxPageNumberLimit=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),minPageNumberLimit=_useState6[0],setMinPageNumberLimit=_useState6[1];var itemsPerpage=5;var pageNumbersLimit=5;var indexOfLastItem=currentPage*itemsPerpage;var indexOfFirstItem=indexOfLastItem-itemsPerpage;var currentItems=data.slice(indexOfFirstItem,indexOfLastItem);var pages=[];for(var i=1;i<=Math.ceil(data.length/itemsPerpage);i++){pages.push(i);}var renderPageNumbers=pages.map(function(number){if(number<=maxPageNumberLimit&&number>=minPageNumberLimit){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setCurrentPage(number);},className:currentPage===number?pag.active:null,children:number},number);}else{return null;}});var renderData=currentItems.map(function(file,index){return/*#__PURE__*/_jsxs(\"li\",{className:pag.listitem,children:[/*#__PURE__*/_jsx(\"div\",{className:pag.filesname,children:file.fileName}),\" \",/*#__PURE__*/_jsx(\"button\",{name:index,id:file._id,onClick:downloadFile,children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{name:index,id:file._id,onClick:deleteFile,children:\"Delete\"})]},file._id);});var handleNextClick=function handleNextClick(){if(currentPage+1>maxPageNumberLimit){setMinPageNumberLimit(currentPage+1);setMaxPageNumberLimit(currentPage+pageNumbersLimit);}setCurrentPage(currentPage+1);};var handlePrevClick=function handlePrevClick(){if(currentPage-1<minPageNumberLimit){setMinPageNumberLimit(currentPage-pageNumbersLimit);setMaxPageNumberLimit(currentPage-1);}setCurrentPage(currentPage-1);};return/*#__PURE__*/_jsx(\"div\",{children:data.length===0?/*#__PURE__*/_jsx(\"div\",{className:pag.nothtoshow,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Nothing to show\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:pag.lstitem,children:[/*#__PURE__*/_jsx(\"span\",{className:pag.filename,children:\"File Name\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Download\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),renderData,/*#__PURE__*/_jsxs(\"ul\",{className:pag.pagenumbers,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevClick,disabled:currentPage===pages[0]?true:false,children:\"Prev\"})}),renderPageNumbers,/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleNextClick,disabled:currentPage===pages[pages.length-1]?true:false,children:\"Next\"})})]})]})});};","map":{"version":3,"sources":["C:/Users/Akhlesh dixit/Desktop/reactjs/DRIVEBeta/frontend/src/Components/Pagination/Pagination.jsx"],"names":["React","useState","pag","Pagination","data","downloadFile","deleteFile","currentPage","setCurrentPage","maxPageNumberLimit","setMaxPageNumberLimit","minPageNumberLimit","setMinPageNumberLimit","itemsPerpage","pageNumbersLimit","indexOfLastItem","indexOfFirstItem","currentItems","slice","pages","i","Math","ceil","length","push","renderPageNumbers","map","number","active","renderData","file","index","listitem","filesname","fileName","_id","handleNextClick","handlePrevClick","nothtoshow","lstitem","filename","pagenumbers"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport pag from './Pagination.module.css';\r\n\r\nexport const Pagination = ({ data, downloadFile, deleteFile }) => {\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [maxPageNumberLimit, setMaxPageNumberLimit] = useState(5);\r\n    const [minPageNumberLimit, setMinPageNumberLimit] = useState(0);\r\n\r\n    const itemsPerpage = 5;\r\n    const pageNumbersLimit = 5;\r\n    const indexOfLastItem = currentPage * itemsPerpage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerpage;\r\n    const currentItems = data.slice(indexOfFirstItem, indexOfLastItem);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= Math.ceil(data.length / itemsPerpage); i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const renderPageNumbers = pages.map((number) => {\r\n        if (number <= maxPageNumberLimit && number >= minPageNumberLimit) {\r\n            return <li key={number} onClick={() => { setCurrentPage(number) }} className={currentPage === number ? pag.active : null}>{number}</li>\r\n        }\r\n        else {\r\n            return null\r\n        }\r\n    });\r\n\r\n    const renderData = currentItems.map((file, index) => {\r\n        return <li key={file._id} className={pag.listitem} ><div className={pag.filesname}>{file.fileName}</div> <button name={index} id={file._id} onClick={downloadFile}>Download</button><button name={index} id={file._id} onClick={deleteFile}>Delete</button></li>\r\n    });\r\n\r\n    const handleNextClick = () => {\r\n        if (currentPage + 1 > maxPageNumberLimit) {\r\n            setMinPageNumberLimit(currentPage + 1);\r\n            setMaxPageNumberLimit(currentPage + pageNumbersLimit);\r\n        }\r\n        setCurrentPage(currentPage + 1);\r\n    }\r\n\r\n    const handlePrevClick = () => {\r\n        if ((currentPage - 1) < minPageNumberLimit) {\r\n            setMinPageNumberLimit(currentPage - pageNumbersLimit);\r\n            setMaxPageNumberLimit(currentPage - 1);\r\n        }\r\n        setCurrentPage(currentPage - 1);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                data.length === 0 ? <div className={pag.nothtoshow}><h1>Nothing to show</h1></div> :\r\n                    (\r\n                        <>\r\n                            <div className={pag.lstitem}><span className={pag.filename}>File Name</span><p>Download</p><p>Delete</p></div>\r\n                            <hr />\r\n                            {renderData}\r\n                            <ul className={pag.pagenumbers}>\r\n                                <li>\r\n                                    <button onClick={handlePrevClick} disabled={currentPage === pages[0] ? true : false}>Prev</button>\r\n                                </li>\r\n                                {renderPageNumbers}\r\n                                <li>\r\n                                    <button onClick={handleNextClick} disabled={currentPage === pages[pages.length - 1] ? true : false}>Next</button>\r\n                                </li>\r\n                            </ul>\r\n                        </>\r\n                    )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}